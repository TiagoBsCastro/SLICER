<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SLICER - Simulation LIght conE buildeR: SLICER: Simulation Light Cone Builder</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SLICER - Simulation LIght conE buildeR<span id="projectnumber">&#160;2.0</span>
   </div>
   <div id="projectbrief">SLICER: Simulation Light Cone Builder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SLICER: Simulation Light Cone Builder </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> <img src="./slicer.png" alt="Logo" width="440" class="inline"/></p>
<p><a href="https://github.com/TiagoBsCastro/SLICER/actions/workflows/ci.yml"><img src="https://github.com/TiagoBsCastro/SLICER/actions/workflows/ci.yml/badge.svg" alt="C++ Build CI" style="pointer-events: none;" class="inline"/></a> <img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3" style="pointer-events: none;" class="inline"/> <a href="https://tiagobscastro.github.io/SLICER/"><img src="https://img.shields.io/badge/docs-available-green.svg" alt="Documentation" style="pointer-events: none;" class="inline"/></a> <a href="https://doi.org/10.5281/zenodo.11048430"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.11048430.svg" alt="DOI" style="pointer-events: none;" class="inline"/></a> <a href="https://tiagobscastro.github.io/SLICER/"><img src="https://img.shields.io/badge/updated-May%2024-orange.svg" alt="Last Updated" style="pointer-events: none;" class="inline"/></a></p>
<div align="justify"></div><div align="justify"><b>SLICER</b> stands for <b>Simulation Light Cone Builder</b>, a specialized tool crafted for astrophysicists and cosmologists. Developed in C++ and parallelized using MPI, SLICER efficiently generates mass maps from particles and past light cones of structures and substructures from SUBFIND catalogs, all from GADGET simulation snapshots (format 2).</div><div align="justify"></div><h1><a class="anchor" id="autotoc_md5"></a>
Key Features</h1>
<div align="justify"><ul>
<li><b>High-Performance Computing</b>: Utilizes MPI for efficient parallel computing, enabling the handling of extensive cosmological datasets.</li>
<li><b>Versatile Data Processing</b>: It is capable of creating both mass maps and past light cones of structures. The mass maps can be written for all particle species or separately.</li>
<li><b>Outputs in FITS Format</b>: Delivers results for mass maps in the Flexible Image Transport System (FITS) format, which is extensively used in the astronomical community for storing scientific data.</li>
<li><b>PINOCCHIO-like PLC</b>: The past-light cone (PLC) of (sub)-structures is written with the same structure used by PINOCCHIO (<a href="https://github.com/pigimonaco/Pinocchio">Pinocchio on GitHub</a>).</li>
<li><b>Lensing post-processing</b>: SLICER is distributed with several Python post-processing tools that efficiently extract lensing maps from the mass maps. These tools can be found in the <a href="./Lens/"><code>Lens/</code> directory</a>.</li>
</ul>
</div><div align="justify"></div><h1><a class="anchor" id="autotoc_md6"></a>
Dependencies</h1>
<div align="justify"> Before installing SLICER, ensure that the following dependencies are met:<ul>
<li><b>C++ Compiler</b>: A modern C++ compiler (e.g., GCC, Clang)</li>
<li><b>MPI</b>: For parallel computation (e.g., MPICH, OpenMPI)</li>
<li><b>CMake</b>: For building the application (version 3.10 or higher)</li>
<li><b>GNU Scientific Library (GSL)</b>: Provides numerous mathematical routines</li>
<li><b>CFITSIO</b>: Library for reading and writing FITS files</li>
<li><b>CCfits</b> (optional): A C++ wrapper for CFITSIO</li>
</ul>
</div><div align="justify"></div><h2><a class="anchor" id="autotoc_md7"></a>
Installing Dependencies</h2>
<div align="justify"> On Ubuntu, you can install these dependencies using: <div class="fragment"><div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install libgsl-dev libcfitsio-dev cmake mpich libccfits-dev</div>
</div><!-- fragment --></div><div align="justify"></div><h1><a class="anchor" id="autotoc_md8"></a>
Installing</h1>
<div align="justify"></div><div align="justify"><ol type="1">
<li>Clone the Repository <div class="fragment"><div class="line">git clone https://github.com/TiagoBsCastro/SLICER.git</div>
<div class="line">cd SLICER</div>
</div><!-- fragment --></li>
<li>Configure with CMake Create a build directory and run CMake to configure the project: <div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -DCMAKE_PREFIX_PATH=$(Your Library Path)</div>
</div><!-- fragment --></li>
<li>Build the Project Compile the project: <div class="fragment"><div class="line">make</div>
</div><!-- fragment --></li>
</ol>
</div><div align="justify"></div><h1><a class="anchor" id="autotoc_md9"></a>
Running the SLICER</h1>
<div align="justify"></div><div align="justify">To run SLICER, follow these simple steps:</div><div align="justify"><ol type="1">
<li><b>Modify the <code>InputParams.ini</code> File</b>: Configure the simulation parameters by editing the <a href="./examples/InputParams.ini">InputParams.ini</a> file. Here is a breakdown of what each parameter means:<ul>
<li><b>Number of Map Pixels</b>: Defines the square root of the number of pixels of the output map. Example: <code>256</code>.</li>
<li><b>Source Redshift</b>: The redshift of the source plane. Example: <code>0.5</code>.</li>
<li><b>Field of View</b>: Angular aperture of the field of view in degrees. Example: <code>2.0</code>.</li>
<li><b>File with Snapshots</b>: Path to the file listing the snapshots to use. Example: <a href="./examples/snapshot_list.txt">snapshot_list.txt</a>.</li>
<li><b>Snapshots Directory</b>: Directory containing the snapshots. Example: <code>/home/tcastro/L128N256/</code>.</li>
<li><b>PLC Sim. Name</b>: The naming convention used for your simulation outputs. Example: <code>gadget</code>.</li>
<li><b>Seed for Pos. Center</b>: Seed used for random positioning of the center. Example: <code>-229</code>.</li>
<li><b>Seed for Pos. Reflec.</b>: Seed for random reflections in positioning. Example: <code>-230</code>.</li>
<li><b>Seed for Axis Sel.</b>: Seed used for random axis selection. Example: <code>-231</code>.</li>
<li><b>Part. in Planes</b>: Controls whether particle types are written to separate lens planes or collectively to the same lens plane. Set to <code>0</code> to write collectively, or <code>1</code> to separate by particle type.</li>
<li><b>PLC Directory</b>: Output directory for the past light cones. Example: <code>/home/tcastro/test_</code>.</li>
<li><b>PLC Suffix</b>: Suffix for the output files. Example: <code>0</code>.</li>
<li><b>Part. Degradation</b>: <code>log₂</code> of the factor by which the particle number is reduced for faster processing. Example: <code>0</code> (no reduction).</li>
<li><b>DE-EOS w</b>: Equation of state parameter for dark energy. Example: <code>-1.0</code>.</li>
</ul>
</li>
<li><b>Run SLICER</b>: Navigate to the build directory and execute SLICER: <div class="fragment"><div class="line">./SLICER InputParams.ini</div>
</div><!-- fragment --></li>
</ol>
</div><div align="justify"></div><h2><a class="anchor" id="autotoc_md10"></a>
Configuration Definitions and Compile-Time Directives</h2>
<div align="justify"></div><div align="justify">SLICER includes several predefined constants and compile-time options that you can adjust according to your specific research needs.</div><div align="justify"></div><h3><a class="anchor" id="autotoc_md11"></a>
Special Definitions in Code</h3>
<div align="justify"> The following definitions within the SLICER code help control various functional aspects:</div><div align="justify"><ul>
<li><code>POS_U 1.0</code>: Converts units from BoxSize unit length to kpc/h, defined in <a href="./SLICER/gadget2io.h"><code>gadget2io.h</code></a>.</li>
<li><code>MAX_M 1e3</code>: Establishes a mass threshold; particles exceeding this threshold are assigned zero mass. This limit is particularly useful as the chemical enrichment model may sometimes produce stellar particles with unreasonably high masses, defined in <a href="./SLICER/densitymaps.h"><code>densitymaps.h</code></a>.</li>
<li><code>DO_NGP false</code>: Determines whether to use the Nearest Grid Point (NGP) instead of the Triangular-Shaped Cloud (TSC) for the Mass Assignment Scheme (MAS), defined in <a href="./SLICER/densitymaps.h"><code>densitymaps.h</code></a>.</li>
<li><code>numberOfLensPerSnap 4</code>: Indicates the number of lens planes to construct from a single snapshot, defined in <a href="./SLICER/densitymaps.h"><code>densitymaps.h</code></a>.</li>
</ul>
</div><div align="justify">To modify these definitions, locate the respective <code>.h</code> files in the <code>SLICER</code> directory and adjust the <code>#define</code> statements accordingly.</div><div align="justify"></div><h3><a class="anchor" id="autotoc_md12"></a>
Compile-Time Directives</h3>
<div align="justify"> These options can be defined at compile time to modify SLICER's behavior:</div><div align="justify"><ul>
<li><b>FixedPLCVertex</b>: When activated, centers snapshots consistently at (x, y, z = 0.5, 0.5, 0.5), ensuring a uniform center across snapshots.</li>
<li><b>ReplicationOnPerpendicularPlane</b>: By default, SLICER restricts replications of the simulation box in the direction perpendicular to the lens plane, limiting the maximum possible aperture. Enabling this directive permits such replications, although it's important to note that repeated replication might lead to wide-angle effects under the flat sky approximation used by SLICER.</li>
</ul>
</div><div align="justify">To enable these compile-time directives, add them when running the CMake configuration command: <div class="fragment"><div class="line">cmake -DUSE_FIXED_PLC_VERTEX=ON -DUSE_REPLICATION=ON ..</div>
</div><!-- fragment --></div><div align="justify">These settings empower advanced users to tailor SLICER’s functionality to better suit their computational and analytical requirements.</div><div align="justify"></div><h1><a class="anchor" id="autotoc_md14"></a>
Documentation</h1>
<div align="justify"></div><div align="justify">Visit our <a href="https://tiagobscastro.github.io/SLICER/">Documentation</a> for full API details.</div><div align="justify"></div><h1><a class="anchor" id="autotoc_md16"></a>
Contributing</h1>
<div align="justify"></div><div align="justify">Contributions to SLICER are welcome! Check our Contributing session.</div><div align="justify"></div><h1><a class="anchor" id="autotoc_md17"></a>
Featured Projects</h1>
<div align="justify"></div><div align="justify">SLICER has been employed in a variety of research projects. This section highlights some of the significant projects and published papers that have utilized SLICER.</div><div align="justify"></div><h2><a class="anchor" id="autotoc_md18"></a>
The &lt;a href="https://valerio-marra.github.io/BEHOMO-project/" &gt;BEHOMO&lt;/a&gt; Project</h2>
<div align="justify"></div><div align="justify">The BEHOMO (Beyond Homogeneity) project leverages Λ Lemaître-Tolman-Bondi N-body simulations to explore large-scale structures and their evolution. SLICER has been instrumental in producing the lensing maps from the BEHOMO simulations.</div><div align="justify"><ul>
<li>Marra, V., Castro, T., Camarena, D., Borgani, S., &amp; Ragagnin, A. (2022). The BEHOMO project: Λ Lemaître-Tolman-Bondi N-body simulations. Astronomy &amp; Astrophysics, 664, A179. <a href="https://doi.org/10.1051/0004-6361/202243539">https://doi.org/10.1051/0004-6361/202243539</a></li>
</ul>
</div><div align="justify"></div><h2><a class="anchor" id="autotoc_md19"></a>
&lt;a href="https://magneticum.org" &gt;Magneticum&lt;/a&gt; Collaboration</h2>
<div align="justify"></div><div align="justify">Magneticum is a series of hydrodynamical simulations focusing on the impact of baryons on cosmological structures. Several studies under this collaboration have used SLICER to analyze the effects of baryonic processes on cosmic structures.</div><div align="justify"><ul>
<li>Castro, T., Quartin, M., Giocoli, C., Borgani, S., &amp; Dolag, K. (2018). The effect of baryons in the cosmological lensing PDFs. Monthly Notices of the Royal Astronomical Society, 478(1), 1305-1325. <a href="https://doi.org/10.1093/mnras/sty1117">https://doi.org/10.1093/mnras/sty1117</a></li>
<li>Martinet, N., Castro, T., Harnois-Déraps, J., Jullo, E., Giocoli, C., et al. (2021). Impact of baryons in cosmic shear analyses with tomographic aperture mass statistics. Astronomy &amp; Astrophysics, 648, A115. <a href="https://doi.org/10.1051/0004-6361/202040155">https://doi.org/10.1051/0004-6361/202040155</a></li>
</ul>
</div><div align="justify"></div><h2><a class="anchor" id="autotoc_md20"></a>
Collaborative Research</h2>
<div align="justify"></div><div align="justify">SLICER has also been used in other papers to quantify the impact of baryons on cosmological analysis of weak lensing data.</div><div align="justify"><ul>
<li>Harnois-Déraps, J., Martinet, N., Castro, T., Dolag, K., Giblin, B., et al. (2021). Cosmic shear cosmology beyond two-point statistics: A combined peak count and correlation function analysis of DES-Y1. Monthly Notices of the Royal Astronomical Society, 506(2), 1623-1650. <a href="https://doi.org/10.1093/mnras/stab1623">https://doi.org/10.1093/mnras/stab1623</a></li>
<li>Heydenreich, S., Brück, B., Burger, P., Harnois-Déraps, J., Unruh, S., et al. (2022). Persistent homology in cosmic shear - II. A tomographic analysis of DES-Y1. Astronomy &amp; Astrophysics, 667, A125. <a href="https://doi.org/10.1051/0004-6361/202243868">https://doi.org/10.1051/0004-6361/202243868</a></li>
<li>Burger, P. A., Friedrich, O., Harnois-Déraps, J., Schneider, P., Asgari, M., et al. (2023). KiDS-1000 cosmology: Constraints from density split statistics. Astronomy &amp; Astrophysics, 669, A69. <a href="https://doi.org/10.1051/0004-6361/202244673">https://doi.org/10.1051/0004-6361/202244673</a></li>
<li>Burger, P. A., Porth, L., Heydenreich, S., Linke, L., Wielders, N., et al. (2024). KiDS-1000 cosmology: Combined second- and third-order shear statistics. Astronomy &amp; Astrophysics, 683, A103. <a href="https://doi.org/10.1051/0004-6361/202347986">https://doi.org/10.1051/0004-6361/202347986</a></li>
<li>Alfradique, V., Castro, T., Marra, V., Quartin, M., Giocoli, C., &amp; Monaco, P. (2024). A deconstruction of methods to derive one-point lensing statistics. arXiv preprint arXiv:2405.00147.</li>
</ul>
</div><div align="justify"></div><h2><a class="anchor" id="autotoc_md21"></a>
Ongoing Research</h2>
<div align="justify"></div><div align="justify">SLICER continues to be a tool of choice for upcoming studies and publications! Stay tuned for more ;)</div><div align="justify"></div><h1><a class="anchor" id="autotoc_md22"></a>
License</h1>
<div align="justify"></div><div align="justify">SLICER is licensed under the GNU GPL3 license. See <a href="./LICENSE">LICENSE</a> for more details.</div><div align="justify"></div> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
